<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./suduko.js"></script>
    <script src="./jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    

    
    <title class="head">suduku Easy</title>
    <style>
        html, body {
            height: 100%;
            width: 100%;
        }
        .wrapper {
            padding: 4vw;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        #container {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 97vw;
            height: 97vw;
        }
        @media (min-aspect-ratio: 3/8) {
            #container {
                height: 90vw;
                width: 90vw;
            }
            .div1{
                width:90vw;
            }
            .num{
                width:6vw;
                height:6vw;
            }
        }
        @media (min-aspect-ratio: 4/5){
            #container {
                width:40vw;
                height:40vw;
            }
            .div1{
                width:40vw;
            }
            .num{
                width:3vw;
                height:3vw;
            }
        }
        @media (min-aspect-ratio: 4/2){
            #container {
                width:30vw;
                height:30vw;
            }
            .div1{
                width:30vw;
            }
            .num{
                width:2vw;
                height:2vw;
            }
        }
        .round {
            padding: 10px;
            color: #7af;
            background-color: #0001;
            border-radius: 25px;
        }
        #can {
            position: relative;
    
        }
        .div1{
            position: relative;
            display:flex;
            align-items: center;
            justify-content: center;
        }
        .svg{
            flex: 1;
            display:flex;
            padding-top: 4vh;
            color:'#bbdefb';
            
        }
    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="padding-right: auto;">
        <div class="container-fluid">
          <div class="navbar-brand head">Suduku Easy</div>
            <p class="3" style="margin: 0;">
                <svg class="pen" style="padding: 10px;
            color: white;
            background-color: #0001;" xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-pen-fill" viewBox="-4 -4 22 22">
                <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"/>
                </svg>
            </p>
            <p class="4" style="margin: 0;">
                <svg style="padding: 10px;
                color: white;
                background-color: #0001;" xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-eraser" viewBox="0 0 16 16">
                    <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414l-3.879-3.879zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/>
                    </svg>
            </p>

          <button class="navbar-toggler bg-transparent" type="label" data-bs-toggle="collapse" data-bs-target="#navbarNavDarkDropdown" aria-controls="navbarNavDarkDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-arrow-down-square-fill" viewBox="0 0 16 16">
                <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5a.5.5 0 0 1 1 0z"/>
              </svg>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Difculty
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDarkDropdownMenuLink">
                        <li><div class="dropdown-item level" id="e">Easy</div></li>
                        <li><div class="dropdown-item level" id="m">Mediem</div></li>
                        <li><div class="dropdown-item level" id="h">Hard</div></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                </ul>
            </div>
        </div>
      </nav>
    <div class="wrapper">
        <div id="container">
            <canvas id="can" width='90%' height='90%' ></canvas>
        </div>
        <div class="div1">
            <div class="svg1 svg" id="1">
                <svg class="num"xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 30.8"><path fill='#0b79e4' fill-rule="evenodd" d="M8.95 30V3.55H8.7c-.74.4-6.7 4.65-7.71 5.3V5.89c.63-.4 6.76-4.75 7.97-5.47h2.8V30h-2.8z"></path></svg>                
            </div>
            <div class="svg2 svg" id="2">
                <svg  class="num" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 31.4"><path fill="#0b79e4" fill-rule="evenodd" d="M.12 9.57C.16 4.47 4.06.79 9.41.79c5.2 0 9.19 3.57 9.19 8.23 0 3.07-1.42 5.47-6.28 10.66l-8 8.53v.25h15.02V31H.28v-1.97l10.34-11.18c4.12-4.43 5.17-6.19 5.17-8.73 0-3.3-2.81-5.87-6.44-5.87-3.82 0-6.46 2.59-6.5 6.32v.02H.12v-.02z"></path></svg>
            </div>
            <div class="svg3 svg" id="3">
                <svg  class="num" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 32"><path fill="#0b79e4" fill-rule="evenodd" d="M6.7 16.93v-2.42h3.46c3.82 0 6.46-2.34 6.46-5.72 0-3.22-2.64-5.54-6.31-5.54-3.67 0-6.26 2.18-6.54 5.54H1.04c.33-4.84 4-8 9.37-8 5.04 0 9.06 3.4 9.06 7.67 0 3.57-2.05 6.17-5.5 6.93v.27c4.23.47 6.86 3.28 6.86 7.34 0 4.86-4.5 8.61-10.3 8.61-5.72 0-9.92-3.4-10.1-8.18h2.7c.25 3.33 3.32 5.72 7.38 5.72 4.29 0 7.43-2.64 7.43-6.21 0-3.71-2.92-6-7.65-6h-3.6z"></path></svg>
            </div>
            <div class="svg4 svg" id="4">
                <svg class="num" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 30.9"><path fill="#0b79e4" fill-rule="evenodd" d="M15.86 30v-6.69H.99v-2.56C3.63 16.28 7.29 10.6 14.56.37h4.02v20.42h4.43v2.52h-4.43V30h-2.73zM3.92 20.63v.18h11.94V3.05h-.19A206.36 206.36 0 003.92 20.63z"></path></svg>
            </div>
            <div class="svg5 svg" id="5">
                <svg class="num" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 31.4"><path fill="#0b79e4" fill-rule="evenodd" d="M10.55 30.61c-5.37 0-9.47-3.44-9.78-8.26h2.75c.3 3.32 3.32 5.78 7.05 5.78 4.33 0 7.43-3.1 7.43-7.44 0-4.35-3.1-7.45-7.36-7.45-2.92 0-5.5 1.42-6.75 3.7H1.22L2.82.4h16.14v2.52H5.04l-.99 10.79h.27c1.41-1.85 3.87-2.92 6.77-2.92 5.68 0 9.72 4.08 9.72 9.8 0 5.87-4.25 10.01-10.26 10.01z"></path></svg>
            </div>
            <div class="svg6 svg" id="6">
                <svg class="num" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 32"><path fill="#0b79e4" fill-rule="evenodd" d="M10.96 31.6c-4 0-7.15-2-9-5.65C.65 23.64 0 20.58 0 16.84-.01 6.76 4.13.79 11.17.79c4.9 0 8.61 2.96 9.45 7.57h-2.87c-.74-3.08-3.32-5.05-6.62-5.05-5.31 0-8.35 4.97-8.41 13.74h.25c1.29-3.32 4.55-5.45 8.43-5.45 5.61 0 9.76 4.18 9.76 9.84 0 5.89-4.29 10.15-10.2 10.15zm-.04-2.49c4.2 0 7.4-3.28 7.4-7.56 0-4.37-3.1-7.51-7.38-7.51a7.27 7.27 0 00-7.48 7.3c0 4.41 3.24 7.77 7.46 7.77z"></path></svg>
            </div>
            <div class="sv7 svg" id="7">
                <svg class="num" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 30.8"><path fill="#0b79e4" fill-rule="evenodd" d="M3.02 30L16.7 3.16v-.23H.29V.41h19.28v2.62L6 30z"></path></svg>
            </div>
            <div class="svg8 svg" id="8">
                <svg class="num" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 32"><path fill="#0b79e4" fill-rule="evenodd" d="M10.53 31.61C4.34 31.61.05 28.1.05 23.02a7.55 7.55 0 016.46-7.57v-.24a6.63 6.63 0 01-5.3-6.58C1.2 4.05 5.07.79 10.52.79c5.46 0 9.33 3.24 9.33 7.84 0 3.22-2.07 5.8-5.29 6.58v.24a7.57 7.57 0 016.46 7.57c0 5.09-4.28 8.6-10.5 8.6zm0-2.42c4.54 0 7.67-2.6 7.67-6.35 0-3.67-3.11-6.17-7.67-6.17-4.53 0-7.65 2.52-7.65 6.17 0 3.75 3.12 6.36 7.65 6.36zm0-14.95c3.9 0 6.57-2.17 6.57-5.39 0-3.34-2.67-5.64-6.57-5.64-3.9 0-6.56 2.3-6.56 5.64 0 3.2 2.67 5.4 6.56 5.4z"></path></svg>
            </div>
            <div class="svg9 svg" id="9">
                <svg class="num" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 32"><path fill="#0b79e4" fill-rule="evenodd" d="M10.9 31.6c-4.99 0-8.62-2.98-9.46-7.55h2.87c.72 3.01 3.22 5.04 6.63 5.04 5.23 0 8.2-4.78 8.4-13.06.03-.2-.1-.47-.12-.68h-.12c-1.27 3.26-4.55 5.44-8.43 5.44-5.66 0-9.76-4.17-9.76-9.8C.91 5.1 5.17.78 11.11.78c4 0 7.15 2.01 9 5.68 1.3 2.3 1.96 5.33 1.96 9.1 0 10.04-4.1 16.02-11.17 16.02zm.22-13.25c4.25 0 7.49-3.2 7.49-7.28 0-4.4-3.22-7.8-7.47-7.8-4.22 0-7.4 3.3-7.4 7.63 0 4.29 3.04 7.45 7.38 7.45z"></path></svg>
            </div>
        </div>
        
    </div>


    <script>
        let difcul=38;
        let can=document.getElementById('can');
        let canvas=can.getContext("2d");
        let height=$("#container").height();
        let width=$("#container").width();
        let wid=Math.floor(width/9);
        let linewid=(wid/25)/2
        wid=(width-linewid)/9;
        let innerrect_wid=Math.round((linewid/5)*10)/10;
        let pos=0;
        let points=point=array5=arr=errors=[]
        let note=[];
        let array_=[]
        let note_mode=false;
        for(let i=0;i<81;i++){
            note.push([]);
        }
        let save=[];
        window.devicePixelRatio=8; 
        function make(points,array,point,error_point,array_const,notes){
            let epoint=[]
            let estart=[]
            for(let i=0;i<error_point.length;i++){
                for(let j=0;j<error_point[i].length;j++){
                    epoint.push(error_point[i][j]);
                    if(j==0){
                        estart.push(error_point[i][j])
                    }
                }
            }
            epoint=Array.from(new Set(epoint));
            
            this.innerrect_col_select="#9fa9b6";
            this.num_font=`${(wid/50)*30}px Segoe UI`;
            this.num_font_col="#344861";
            this.big_rect_col="#344861"
            this.selected_points_col="rgba(226, 235, 243, 1)"
            this.note_font=`${(wid/50)*15}px Source Sans Pro`;
            //this.point_col
            for(let num1=0;num1<9;num1++){
                for(let num2=0;num2<9;num2++){
                    if (points.includes((num2*9)+num1)){
                        canvas.save()
                        canvas.save()
                        if (point.includes((num2*9)+num1)){
                            if(point[0]==(num2*9)+num1){
                                this.selected_points_col='#bbdefb';
                            }else{
                                this.selected_points_col='#c3d7ea';
                            }
                        }if (epoint.includes((num2*9)+num1)){
                            
                            this.selected_points_col='#f7cfd6';
                        }
                        canvas.fillStyle = this.selected_points_col;
                        canvas.translate((num1*wid)+linewid, (num2*wid)+linewid);
                        canvas.fillRect(0, 0,wid,wid);
                        canvas.lineWidth = innerrect_wid;
                        canvas.strokeStyle = this.innerrect_col_select;
                        canvas.strokeRect(0,0 , wid,wid);
                        if(array[(num2*9)+num1] != 0){
                            canvas.restore()
                            canvas.translate((num1*wid)+((wid/50)*27), (num2*wid)+((wid/50)*35));
                          //  console.log('in')
                            if(array_const[(num2*9)+num1] != 0){
                                canvas.fillStyle=this.num_font_col;
                            }else if(estart.includes((num2*9)+num1)){
                                canvas.fillStyle='#e55c6c'
                            }else{
                                canvas.fillStyle='#0b79e4'
                            }
                            canvas.font=this.num_font;
                            canvas.textAlign = "center";
                            canvas.fillText(`${array[(num2*9)+num1]}`,0,0);
                        }else if(notes[(num2*9)+num1] != []){
                            for(const i in notes[(num2*9)+num1]){
                                canvas.font=this.note_font;
                             //   canvas.scale(2,2)
                                canvas.fillStyle='black';
                                canvas.textAlign = "right";
                                canvas.fillText(`${notes[(num2*9)+num1][i]}`,(
                                    ((notes[(num2*9)+num1][i]-1)%3)+1)*(wid/3)-((wid/3)/2.9),Math.floor(
                                    ((notes[(num2*9)+num1][i]-1)/3)+1)*(wid/3)-((wid/3)/2.9));
                            }
                        }
                        canvas.restore();
                        this.selected_points_col="rgba(226, 235, 243, 1)";
                    }else{
                        canvas.save()
                        canvas.save()
                        canvas.lineWidth = innerrect_wid;
                        canvas.translate((num1*wid)+linewid, (num2*wid)+linewid);
                        if (point.includes((num2*9)+num1)){
                            if(point[0]==(num2*9)+num1){
                                canvas.fillStyle='#bbdefb';
                            }else{
                                canvas.fillStyle='#c3d7ea';
                            }
                            canvas.fillRect(0, 0,wid,wid);
                        }
                        canvas.strokeStyle = this.innerrect_col_select;
                        canvas.strokeRect(0,0 , wid,wid);
                        if (epoint.includes((num2*9)+num1)){
                            canvas.fillStyle='#f7cfd6'
                            canvas.fillRect(0, 0,wid,wid);
                        }
                        if(array[(num2*9)+num1] != 0){
                            canvas.restore()
                            canvas.translate((num1*wid)+((wid/50)*27), (num2*wid)+((wid/50)*35));
                            //console.log('in')
                            if(array_const[(num2*9)+num1] != 0){
                                canvas.fillStyle=this.num_font_col;
                            }else if(estart.includes((num2*9)+num1)){
                                canvas.fillStyle='#e55c6c'
                            }else{
                                canvas.fillStyle='#0b79e4'
                            }
                            canvas.font=this.num_font
                            canvas.textAlign = "center";
                            canvas.fillText(`${array[(num2*9)+num1]}`,0,0);
                        }else if(notes[(num2*9)+num1] != []){
                            for(const i in notes[(num2*9)+num1]){
                                canvas.font=this.note_font;
                               // canvas.scale(2,2)
                                canvas.fillStyle='black';
                                canvas.textAlign = "right";
                                canvas.fillText(`${notes[(num2*9)+num1][i]}`,(
                                    ((notes[(num2*9)+num1][i]-1)%3)+1)*(wid/3)-((wid/3)/2.9),Math.floor(
                                    ((notes[(num2*9)+num1][i]-1)/3)+1)*(wid/3)-((wid/3)/2.9));
                            }
                        }
                        
                        canvas.restore();
                    }
                    
                }
            }
            for(let num1=0;num1<3;num1++){
                for(let num2=0;num2<3;num2++){
                    canvas.save()
                    canvas.strokeStyle=this.big_rect_col;
                    canvas.lineWidth=linewid
                    canvas.translate((num1*(wid*3)),  (num2*(wid*3)));
                    canvas.strokeRect(0,0,wid*3,wid*3);
                    canvas.restore();
                }
            }
        }
        function find_num1(num1,x){
            if ([0,3,6].includes(Math.floor(x / 9)) == true){
                return(num1);
            }else if([1,4,7].includes(Math.floor(x / 9))){
                return(num1-1);
            }else if([2,5,8].includes(Math.floor(x / 9 ))){
                return (num1 - 2)
            }
        }
        function get_points(canvas,x,y){
            const xpos=Math.floor(Math.floor(x)/wid);
            const ypos=Math.floor(Math.floor(y)/wid);
            const pos=(ypos*9)+xpos;
            let points=[];
            for(let num1=0;num1<3;num1++){
                for(let num2=0;num2<3;num2++){
                    let place=(Math.floor(pos/3)*3)+(find_num1(num1,pos)*9)+num2
                    points.push(place);
                }
            }
            for(let line=0;line<9;line++){
                let place1=(Math.floor(pos/9)*9)+line
                points.push(place1);
                let place2=(pos%9)+(9*line);
                points.push(place2);
            
            }
            return(Array.from(new Set(points)));
        }
        function get_point(num,array){
            let point=[];
            for(let x=0;x<array.length;x++){
               // console.log(array[x]==array[num])
                point.push(num)
                if(array[num] == 0){
                   
                    return ([num]);
                }
                if(array[x]==array[num]){
                    point.push(x);
                }
            }
           // console.log(point)
            return(Array.from(new Set(point)));
        }
        function corection(x,array){
            for(let num1=0;num1<3;num1++){
                for(let num2=0;num2<3;num2++){
                    let place=(Math.floor(x/3)*3)+(find_num1(num1,x)*9)+num2
                    if(array[place]==array[x] && place != x){
                        //console.log(array[place],"   ",array[x])
                        return (false);
                    }
                }
            }
            for(let line=0;line<9;line++){
                let place1=(Math.floor(x/9)*9)+line
                if(array[place1]==array[x] && place1 != x){
                    return (false);
                }
                let place2=(x%9)+(9*line);
                if(array[place2]==array[x] && place2 != x){
                    return (false);
                }
            
            }
            return (true);
        }
        function check_fin(array,e){
            if(e.length==0){
                for(let i=0;i<81;i++){
                    if(array[i]==0){
                        return(false);
                    }
                }
            }else{
                return(false)
            }
            return(true);
        }

        main();
        function main(){
            try {
                var solved_arr = genarate_suduko(difcul);
            } catch(error) {
                main();
                return;
            }
            
            arr=[...solved_arr]

            for(let num1=0;num1<3;num1++){
                for(let num2=0;num2<3;num2++){
                    let place=(Math.floor(pos/3)*3)+(find_num1(num1,pos)*9)+num2
                    points.push(place);
                }
            }
            for(let line=0;line<9;line++){
                let place1=(Math.floor(pos/9)*9)+line
                points.push(place1);
                let place2=(pos%9)+(9*line);
                points.push(place2);
            
            }
            array_=[];
            for(let i=0;i<81;i++){
                if(arr[i] > 0){
                    array_.push(i);
                }
            }
            array5=[...arr];
            if(width > height){
                can.width=height;
                can.height=height;
                width=height 
            }else{
                can.width=width;
                can.height=width; 
            }
            
            wid=Math.floor(width/9);
            linewid=(wid/25)/2
            wid=(width-linewid)/9;

            innerrect_wid=Math.round((linewid/3)*10)/10;
            make(points,arr,point,errors,array5,note)
            can.addEventListener('click',(event)=>{
                //can=document.getElementById('can');
                //canvas=can.getContext("2d");
                width=can.width;
                wid=Math.floor(width/9);
                linewid=(wid/25)/2
                wid=(width-linewid)/9;
                innerrect_wid=Math.round((linewid/3)*10)/10;
                canvas.clearRect(0,0,can.width,can.height)
                const rect = can.getBoundingClientRect()

                let x = event.layerX
                let y = event.layerY
                if(x > (wid*9)-1){
                    x=(wid*9)-1;
                }
                if(y >(wid*9)-1){
                    y=(wid*9)-1;
                }
                pos=(Math.floor(y/wid)*9)+Math.floor(x/wid)
                points=get_points(canvas,x,y);
                point=get_point((Math.floor(y/wid)*9)+Math.floor(x/wid),arr)
                make(points,arr,point,errors,array5,note)
                if(check_fin(arr,errors)==true){
                    console.log('congatulatioon you finished this suduko');
                }
            });
            
           
        }
        function key_press(event){
            if(typeof(event) != 'string'){
                if(event.keyCode >47 && event.keyCode < 58){
                    if(array_.includes(pos) == false && note_mode==false){
                        arr[pos]=event.keyCode-48;
                        points=[];
                        if(note[pos] !=[]){
                            note[pos]=[];
                        }
                        for(let num1=0;num1<3;num1++){
                            for(let num2=0;num2<3;num2++){

                                let place=(Math.floor(pos/3)*3)+(find_num1(num1,pos)*9)+num2
                                points.push(place);
                            }
                        }
                        for(let line=0;line<9;line++){
                            let place1=(Math.floor(pos/9)*9)+line
                            points.push(place1);
                            let place2=(pos%9)+(9*line);
                            points.push(place2);
                        }
                        point=get_point(pos,arr)
                        canvas.clearRect(0,0,can.width,can.height)
                        if(corection(pos,arr)==false && arr[pos]!=0){
                            for(let p=0;p<errors.length;p++){
                                if(errors[p][0]==pos){
                                    errors=errors.remove(errors[p]);
                                    break
                                }
                            }
                            errors.push([pos])
                            for(let p=0;p<point.length;p++){
                                if(points.includes(point[p])){
                                    errors[errors.length-1].push(point[p])
                                }
                            }
                            make(points,arr,point,errors,array5,note)
                        }else{
                            for(let p=0;p<errors.length;p++){
                                if(errors[p][0]==pos){
                                    errors=errors.remove(errors[p]);
                                    break
                                }
                            }
                            make(points,arr,point,errors,array5,note)
                        }
                        if(check_fin(arr,errors)==true){
                            //finishing point
                            console.log('congatulatioon you finished this suduko');
                        }
                    }else if(note_mode==true && event.keyCode != 48){
                        if(note[pos].includes(Number(event.keyCode-48))==false){
                            note[pos].push(Number(event.keyCode-48))
                        }else{
                            note[pos]=note[pos].remove(Number(event.keyCode-48));
                        }
                        canvas.clearRect(0,0,can.width,can.height)
                        make(points,arr,point,errors,array5,note)
                    }
                }
            }else{
                if(array_.includes(pos) == false && note_mode==false){
                    arr[pos]=Number(event)
                    points=[];
                    for(let num1=0;num1<3;num1++){
                        for(let num2=0;num2<3;num2++){
                            let place=(Math.floor(pos/3)*3)+(find_num1(num1,pos)*9)+num2
                            points.push(place);
                        }
                    }
                    if(note[pos] !=[]){
                            note[pos]=[];
                        }
                    for(let line=0;line<9;line++){
                        let place1=(Math.floor(pos/9)*9)+line
                        points.push(place1);
                        let place2=(pos%9)+(9*line);
                        points.push(place2);
                    }
                    point=get_point(pos,arr)
                    canvas.clearRect(0,0,can.width,can.height)
                    if(corection(pos,arr)==false && arr[pos]!=0){
                        //console.log("in")
                        
                        for(let p=0;p<errors.length;p++){
                            if(errors[p][0]==pos){
                                errors=errors.remove(errors[p]);
                                break
                            }
                        }
                        errors.push([pos])
                        for(let p=0;p<point.length;p++){
                            if(points.includes(point[p])){
                                errors[errors.length-1].push(point[p])
                            }
                        }
                        make(points,arr,point,errors,array5,note)
                    }else{
                        for(let p=0;p<errors.length;p++){
                            if(errors[p][0]==pos){
                                errors=errors.remove(errors[p]);
                                break
                            }
                        }
                        make(points,arr,point,errors,array5,note)
                    }
                    if(check_fin(arr,errors)==true){
                        console.log('congatulatioon you finished this suduko');
                    }
                    //console.log(errors)
                }else if(note_mode==true){
                    if(note[pos].includes(Number(event))==false){
                        note[pos].push(Number(event))
                    }else{
                        note[pos]=note[pos].remove(Number(event));
                    }
                    canvas.clearRect(0,0,can.width,can.height)
                    make(points,arr,point,errors,array5,note)
                }
            }
                
        
        }
        document.addEventListener('keypress',key_press);
        $(".svg").click(function(){
            key_press(this.id);
        });
        $(".4").click(()=>{
            if(note_mode==false){
                key_press('0')
            }
        });
        $(".3").click(()=>{
            if(note_mode==false){
                note_mode=true;
                $(".pen").css('color','red')
            }else{
                note_mode=false;
                $(".pen").css('color','white')
            }
        })
        $(window).resize(function(){
                height=$('#container').height()
                width=$('#container').width();
                if(width > height){
                    width=height 
                }
                can.width=width;
                can.height=width;
                wid=Math.floor(width/9);
                linewid=(wid/25)/2
                wid=(width-linewid)/9;

                innerrect_wid=Math.round((linewid/3)*10)/10;
                make(points,arr,point,errors,array5,note)
            });
        $(".level").click(function(event){
            if(this.id == 'e'){
                difcul=38;
                $(".head").text("Suduku Easy")
            }else if(this.id=='m'){
                difcul=30;
                $(".head").text("Suduku Mediem")
            }else if(this.id == 'h'){
                difcul=24;
                $(".head").text("Suduku Hard")
            }
            pos=0;
            points=[]
            point=[]
            array5=[]
            arr=[]
            errors=[]
            note=[];
            array_=[]
            note_mode=false;
            for(let i=0;i<81;i++){
                note.push([]);
            }
            let save=[];
            main();
            

        })
    </script>
    
</body>
</html>
